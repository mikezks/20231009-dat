<div class="card">
  <div class="card-header">
    <h2 class="card-title">Flight Edit</h2>
  </div>

  <div class="card-body">
    <form #editForm="ngForm">
      <div class="form-group">
        <label>ID:</label>
        <input [(ngModel)]="flight.id" name="id" class="form-control" />
      </div>

      <div class="form-group">
        <label>From:</label>
        <input
          [(ngModel)]="flight.from"
          name="from"
          class="form-control"
          required
          minlength="3"
          city
        />
      </div>
      <div
        *ngIf="editForm?.controls?.['from']?.invalid"
        class="alert alert-danger"
      >
        There is an error in the From control.
      </div>
      <div
        *ngIf="editForm?.controls?.['from']?.hasError('required')"
        class="alert alert-danger"
      >
        From control is mandatory. Please enter a value!
      </div>
      <div
        *ngIf="editForm?.controls?.['from']?.hasError('minlength')"
        class="alert alert-danger"
      >
        Please enter at least {{
          editForm?.controls?.['from']?.errors?.['minlength']?.requiredLength
        }} chars.
      </div>
      <div
        *ngIf="editForm?.controls?.['from']?.hasError('city')"
        class="alert alert-danger"
      >
        City name is not valid.<br>
        Please enter one of the following cities:<br>
        {{
          editForm?.controls?.['from']?.errors?.['city']?.validCities.join(', ')
        }}
      </div>
      <!-- <div>
        <pre>{{ editForm?.controls?.['from']?.errors | json }}</pre>
      </div> -->

      <div class="form-group">
        <label>To:</label>
        <input [(ngModel)]="flight.to" name="to" class="form-control" />
      </div>

      <div class="form-group">
        <label>Date:</label>
        <input [(ngModel)]="flight.date" name="date" class="form-control" />
      </div>

      <div class="form-group">
        <input
          name="delayed"
          id="delayed"
          [(ngModel)]="flight.delayed"
          type="checkbox"
          class="form-checkbox"
        />
        <label for="delayed">Delayed</label>
      </div>

      <div class="form-group">
        <!--
          Form State:
           - valid
           - invalid
           - pending
           - disabled
         -->
        <button [disabled]="!editForm?.valid" (click)="save()" class="btn btn-default">
          Save
        </button>

        <button (click)="close()" class="btn btn-default">
          Close
        </button>
      </div>
    </form>
  </div>
</div>
